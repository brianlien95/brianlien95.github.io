---
title: 大量賦值漏洞
tags: 網路漏洞
categories: development plan study
abbrlink: 4071265999
date: 2024-08-04 16:17:07
---
1. 什麼是大量賦值漏洞？
大量賦值漏洞是一種安全漏洞，當API端點允許用戶修改其相關對象的所有屬性時就可能發生。
2. 漏洞如何發生？
當HTTP請求中表示的對象直接綁定到用於存儲的數據模型上，並且沒有區分哪些字段應該是可賦值的，哪些是不可變的時，就可能發生大量賦值漏洞。這可能是由於某些框架的默認設置或開發者為了特定情況而有意作出的決定。
3. 示例：
	- 黑客注意到應用程序使用同一個端點來檢索和更新用戶詳細信息。
	- 黑客發現他們檢索的用戶信息還包括了他們的角色信息，於是他們嘗試在更新請求中添加該字段。
4. 漏洞利用：
	- 黑客通過修改請求體，將自己的角色設置為管理員（IsAdmin: true），服務器接受了所有字段，更新了黑客的角色，從而使黑客獲得了管理員權限。
5. 如何防止大量賦值漏洞：
	- 解析請求值，而不是直接綁定到一個對象。
	- 使用簡化的數據傳輸對象（Data Transfer Object, DTO），而不是直接綁定到一個對象。
	- 確保敏感屬性被拒絕列表（denylist）或只允許安全的屬性被允許列表（allowlist）直接綁定到對象。