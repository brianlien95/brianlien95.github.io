---
title: 故障時的安全性
tags: 網路漏洞
categories: development plan study
abbrlink: 661704589
date: 2024-08-04 16:32:08
---
#### 什麼是「故障時的安全性」的概念？
「故障時的安全性」是指當應用程式遇到意外情況時，應該如何正確地處理。
#### 安全控制失敗案例：
假設一名用戶想要登入使用雙重認證的網上郵件應用程式。這意味著用戶需要先輸入他的密碼，然後輸入一個有效的一次性權杖才能獲取訪問權限。
1. 用戶首先成功輸入他的密碼。
2. 接下來，用戶需要輸入發送到他手機的一次性有效權杖。
3. 如果提供了正確的權杖，用戶將被重定向到他的個人資料頁面。
4. 如果權杖不正確，用戶會看到錯誤頁面，並不被允許登入。
#### 攻擊案例：
一名攻擊者已經能夠確定另一名用戶的密碼，並企圖訪問該用戶的網上郵件。
- 攻擊者成功輸入密碼並繼續下一步。
- 攻擊者被要求輸入一次性權杖，但他沒有，並輸入了錯誤的權杖。
- 由於登入失敗機制的故障，攻擊者仍然可以強行瀏覽到個人資料頁面，從而破壞了安全性。
#### TLS驗證失敗案例：
一名用戶在免費WiFi環境下想要瀏覽他的銀行移動應用程式。
- 攻擊者進行中間人攻擊，截獲用戶通訊。
- 應用程式執行SSL固定，並無法驗證服務器證書的真實性。
- 如果失敗被正確處理，用戶會收到警告並不能繼續使用應用程式。
#### 未正確處理失敗的情況：
- 攻擊者再次進行中間人攻擊，截獲用戶通訊。
- 應用程式無法驗證服務器證書，但失敗未被正確處理。
- 應用程式繼續使用HTTP進行通訊，允許攻擊者完全控制流量。
#### 如果安全防護失敗，影響可能很大：
- 執行時的錯誤可能會中斷執行並導致失敗，威脅到應用程式的安全性。
- 認證或授權期間的失敗可能會讓用戶獲得比允許的更高權限。
- 這可能導致敏感數據的損失、品牌損害以及相關的財務後果。
#### 為了預防「安全防護失敗」類別的漏洞，開發人員應該在設計時識別失敗區域：
- 除非用戶明確獲得訪問應用程式某部分的許可，否則應該拒絕訪問。
- 所有操作都應有確定的結果，異常必須使用通用錯誤消息來處理。
- 換句話說，每個代碼塊只應該有三個確定的結果：
	- 如果用戶被授權，則執行操作。
	- 如果用戶未被授權，則不執行操作。
	- 如果發生異常，則回滾操作並顯示錯誤消息。
- 開發人員應始終實施強大的錯誤處理。為了確保安全，應在異常情況下使用通用錯誤消息。
- 最後，確保系統在失敗後處於安全狀態。這包括審查全局異常處理行為。
